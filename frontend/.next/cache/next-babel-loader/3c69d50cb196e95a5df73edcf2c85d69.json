{"ast":null,"code":"import mongoose from \"mongoose\";\n\nasync function dbConnect() {\n  // check if we have a connection to the database or if it's currently\n  // connecting or disconnecting (readyState 1, 2 and 3)\n  if (mongoose.connection.readyState >= 1) {\n    return;\n  }\n\n  return mongoose.connect(false ? process.env.ATLAS_URI : process.env.MONGO_URI, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n    useFindAndModify: false,\n    useCreateIndex: true\n  });\n}\n\nexport default dbConnect;","map":{"version":3,"sources":["/home/jaybarnes/Desktop/Projects/forum/frontend/lib/mongo.ts"],"names":["mongoose","dbConnect","connection","readyState","connect","process","env","ATLAS_URI","MONGO_URI","useNewUrlParser","useUnifiedTopology","useFindAndModify","useCreateIndex"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;;AAEA,eAAeC,SAAf,GAA2B;AACzB;AACA;AACA,MAAID,QAAQ,CAACE,UAAT,CAAoBC,UAApB,IAAkC,CAAtC,EAAyC;AACvC;AACD;;AAED,SAAOH,QAAQ,CAACI,OAAT,CACL,QACIC,OAAO,CAACC,GAAR,CAAYC,SADhB,GAEIF,OAAO,CAACC,GAAR,CAAYE,SAHX,EAIL;AACEC,IAAAA,eAAe,EAAE,IADnB;AAEEC,IAAAA,kBAAkB,EAAE,IAFtB;AAGEC,IAAAA,gBAAgB,EAAE,KAHpB;AAIEC,IAAAA,cAAc,EAAE;AAJlB,GAJK,CAAP;AAWD;;AAED,eAAeX,SAAf","sourcesContent":["import mongoose from \"mongoose\";\n\nasync function dbConnect() {\n  // check if we have a connection to the database or if it's currently\n  // connecting or disconnecting (readyState 1, 2 and 3)\n  if (mongoose.connection.readyState >= 1) {\n    return;\n  }\n\n  return mongoose.connect(\n    process.env.NODE_ENV === \"production\"\n      ? process.env.ATLAS_URI\n      : process.env.MONGO_URI,\n    {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n      useFindAndModify: false,\n      useCreateIndex: true,\n    }\n  );\n}\n\nexport default dbConnect;\n"]},"metadata":{},"sourceType":"module"}